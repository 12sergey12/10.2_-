# Домашнее задание к занятию 10.2 «Кластеризация» - Сергей Баранов


---

### Задание 1

В чём различие между SMP- и MPP-системами?

*Приведите ответ в свободной форме.*

Основное различие между SMP и MPP заключается в конструкции системы. В системе SMP каждый процессор использует одни и те же ресурсы. В системе MPP каждый 
процессор имеет свои собственные выделенные ресурсы и ничего не использует совместно. Другими словами, система SMP имеет сильно связанные процессоры, а 
система MPP имеет более слабо связанные процессоры. Другое ключевое различие между двумя системами заключается в «М» MPP: массово. Поскольку каждый 
процессор использует свою собственную ОС и память, вы можете настроить сотни процессоров в конфигурации MPP, что позволит вам обрабатывать огромные объемы 
данных параллельно. Для сравнения, система SMP подвержена убывающей отдаче. Каждый процессор может совместно использовать одну и ту же память, что 
обеспечивает более быструю синхронизацию в системе, но каждый процессор также имеет собственную кэш-память. Это может привести к проблемам когерентности 
кэша, а также к проблемам с пропускной способностью, возникающим из-за добавления большего количества процессоров к одной и той же ОС и ресурсам. Из-за этих 
ограничений памяти и ресурсов системы SMP менее масштабируемы по сравнению с системами MPP.


---

### Задание 2

В чём отличие сильно связанных и слабо связанных систем?

*Приведите ответ в свободной форме.*

Сильно связанная система состоит из нескольких однородных
процессоров и массива общей памяти (обычно из нескольких
независимых блоков).
Представители таких систем:
* SMP (симметричные мультипроцессоры),
* NUMA (системы с неоднородным доступом к памяти).

В слабосвязанных системах вся память распределена между
процессорными элементами.
Пример таких систем:
* системы с массовым параллелизмом (MPP),
* кластерные системы.

Ключевое различие между слабо связанной и тесно связанной системой состоит в том, что слабо связанная система имеет распределенную память, тогда как тесно 
связанная система имеет общую память. Слабосвязанное является эффективным, когда задачи, выполняемые на разных процессорах, имеют минимальное взаимодействие 
между ними. С другой стороны, тесно связанная система может обеспечивать более высокую степень взаимодействия между процессами и эффективна для 
высокоскоростной обработки в реальном времени. Слабосвязанная система, как правило, не сталкивается с конфликтом памяти, который чаще всего встречается в 
тесно связанной системе. Взаимосвязанной сетью в слабо связанной системе является система передачи сообщений (MTS), тогда как в тесно связанной системе 
межсоединительными сетями являются сеть межпроцессорного взаимодействия с памятью (PMIN), межсоединительная сеть ввода-вывода (IOPIN) и сигнал прерывания. 
соединительная сеть (ISIN). Скорость передачи данных в слабо связанной системе низкая, тогда как скорость передачи данных в тесно связанной системе высокая.
Слабосвязанная система дешевле, но больше по размеру, в то время как тесно связанная система дороже, но компактна по размеру.


---

### Задание 3

Какие преимущества отличают кластерные системы от обычных серверов?

*Приведите ответ в свободной форме.*

Кластерные системы отличаются следующими достоинствами.

* Большая надежность. При отказе компьютера, входящего в кластер, используются ресурсы прочих серверов из того же кластера.
* Высокая масштабируемость. В случае если нагрузка на кластер возрастет, в него просто добавляют еще один сервер.
* Возможность перераспределения ресурсов серверов. Можно сделать кластер для серверов приложений и другой кластер - для серверов БД. Далее, в случае, если нагрузка на сервер БД будет выше, чем предполагалось, то рассматривается вопрос о передаче одного сервера из первого кластера во второй или даже вопрос о совместном использовании одной или нескольких машин в двух кластерах.

Преимущества кластерных систем

* абсолютная масштабируемость,
* нет ограничений на размер узлов и кластеров,
* наращиваемая масштабируемость,
* можно расширять узлы по необходимости,
* высокий коэффициент готовности,
* отказоустойчивость, благодаря автономности узлов,
* соотношение цена/производительность,
* можно строить кластер из любых строительных блоков: чем проще и стандартнее блоки, тем дешевле обходится вычислительная мощность.


---

### Задание 4

Приведите примеры типов современных кластерных систем.

*Приведите ответ в свободной форме.*

* Кластеры высокой доступности (High-availability clusters, HA);
* Кластеры с балансировкой нагрузки (Load balancing clusters);
* Высокопроизводительные кластеры (High performance computing clusters, HPC).

 * Кластеры высокой доступности (High-availability clusters, HA)
Кластеры высокой доступности НА (high-availability cluster) известны также как отказоустойчивые (failover) кластеры, построенные по схеме сети с большой 
избыточностью (redundancy). НА-кластеры обычно используются для терминальных серверов, серверов баз данных, почтовых серверов, а также для серверов общего 
доступа к файлам. Они могут быть развернуты как на одном местоположении («серверной ферме»), так и в географически разнесенных местоположениях.
Zabbix предлагает встроенное решение высокой доступности, которое легко настроить и которое не требует предварительных глубоких знаний в этой области. Это 
встроенное решение может быть полезным как дополнительной уровень защиты от аппаратных или программных сбоев сервера Zabbix или для уменьшения времени 
простоя во время обслуживания.

 * Кластеры с балансировкой нагрузки (Load balancing clusters)
Балансировка нагрузки - это эффективное распределение входящего сетевого трафика в группе (кластере) серверов. Современные веб-сайты должны одновременно 
обслуживать сотни тысяч и даже миллионы запросов от пользователей или клиентов и не слишком задерживать их в получении контента: текста, видео или данных 
приложений. Чем больше серверов будут обслуживать эти запросы, тем лучше будет качество воспринимаемого сервиса для клиентов. Однако может возникнуть 
ситуация, когда одни серверы сайта будут работать с перегрузкой, а другие будут почти простаивать. Балансировщик нагрузки направляет запросы клиентов 
равномерно на все серверы кластера, которые способны ответить на те или иные запросы. Таким образом, балансировщик максимизирует процент использования 
вычислительной емкости, а также обеспечивает то, что ни один сервер не оказывается перегруженным, вызывая общую деградацию производительности кластера.

 * Высокопроизводительные кластеры
(High-performance computing) - это способность обрабатывать данные и выполнять сложные расчеты с высокой скоростью. Это понятие весьма относительное. 
Например, обычный лэптоп с тактовой частотой процессора в 3 ГГц может производить 3 миллиарда вычислений в секунду. Для обычного человека это очень большая 
скорость вычислений, однако она меркнет перед решениями HPC, которые могут выполнять квадриллионы вычислений в секунду. Одно из наиболее известных решений 
HPC - это суперкомпьютер. Он содержит тысячи вычислительных узлов, которые работают вместе над одной или несколькими задачами, что называется параллельными 
вычислениями. HPC очень важны для прогресса в научных, промышленных и общественных областях. Такие технологии, как интернет вещей IoT (Internet of Things), 
искусственный интеллект AI (artificial intelligence), и аддитивное производство (3D imaging), требуют значительных объемов обработки данных, которые 
экспоненциально растут со временем. Для таких приложений, как живой стриминг спортивных событий в высоком разрешении, отслеживание зарождающихся тайфунов, 
тестирование новых продуктов, анализ финансовых рынков, - способность быстро обрабатывать большие объемы данных является критической.


---

### Задание 5

Где используют сервис Kafka, rabitMQ?

*Приведите ответ в свободной форме.*

### Kafka

Основное назначение - это централизованный сбор, обработка, безопасное хранение и передача большого количества сообщений от отделенных друг от друга 
сервисов. Эта распределённая, горизонтально масштабируемая платформа обычно применяется там, где очень много больших неструктурированных данных: 
* Масштабные IoT/IIoT-системы, характеризующиеся архитектурой с множеством датчиков, сенсоров, контроллеров и других конечных устройств. 
* Системы аналитики. Например, Kafka используется в компаниях IBM и DataSift в качестве коллектора для мониторинга событий и трекера потребления потоков 
данных пользователями в режиме реального времени. 
* Финансовые системы. Используют финансовые организации: Сбербанк, Тинькофф, Альфа-Банк, ING Bank.
* Социальные сети. В Twitter Kafka - часть инфраструктуры потоковой обработки, а в LinkedIn используется для потоковой передачи данных о деятельности и 
операционных показателях приложений.
* Системы геопозиционирования. Foursquare - для передачи сообщений между онлайн- и офлайн-системами, а также для интеграции средств мониторинга в свою big 
data инфраструктуру на базе Hadoop.
* Телеком-операторы. ВымпелКом, МТС, Ростелеком и др.
* Онлайн-игры. Например, Demonware, подразделение Activision Blizzard - для обработки логов пользователей.

Самый простой пример: с помощью Apache Kafka можно собирать логи сеансов от клиентов в потоковом режиме или логи с физических файлов журналов с серверов, а 
затем помещать их в одном месте, например в HDFS - файловой системе Apache Hadoop. Также сервис позволяет построить конвейер данных, чтобы с помощью 
алгоритмов машинного обучения извлекать из сырой информации сведения, ценные для бизнеса. Kafka используют организации практически в любой отрасли: 
разработка ПО, финансовые услуги, здравоохранение, государственное управление, транспорт, телеком, геймдев. Отказоустойчивая система используется в бизнесе, 
где необходимо собирать, хранить и обрабатывать большие неструктурированные данные. Примеры - платформы, где требуется интеграция данных из большого 
количества источников, сервисы стриминговой аналитики, mission-critical applications. 


### rabbitMQ

В сложных системах, системах с вычислительными задачами, а также требующих гарантированной доставки важно организовать распределенную архитектуру и наладить 
коммуникацию между компонентами. RabbitMQ - распределенный и горизонтально масштабируемый брокер сообщений. Упрощенно его устройство можно описать так:
* паблишер, который отправляет сообщения;
* очередь, где хранятся сообщения;
* подписчики, которые выступают получателями сообщений.

RabbitMQ передает сообщения между поставщиками и подписчиками через очереди. Сообщения могут содержать любую информацию, например, о событии, произошедшем 
на сайте. RabbitMQ отлично подходит для интеграции разных компонентов, создания микросервисов, потоковой передачи данных в режиме реального времени или при 
передаче работы удаленным работникам. Его используют крупные компании, в числе которых Bloomberg, Reddit, WeWork, NASA и др. 
